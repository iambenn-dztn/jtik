FROM mcr.microsoft.com/playwright:v1.40.0-focal

WORKDIR /app

# Copy package files
COPY server/package*.json ./server/

# Install dependencies
RUN cd server && npm install

# Copy source code
COPY server ./server

WORKDIR /app/server

# Expose port
EXPOSE 3001

# Start in development mode
CMD ["npm", "run", "dev"]
